
# Candy Crush Saga Clone

이 프로젝트는 인기 있는 타일 매칭 퍼즐 게임 '캔디 크러쉬 사가'를 웹 기술로 구현한 클론 프로젝트입니다. 사용자는 다채로운 캔디를 드래그 앤 드롭하여 3개 이상을 일치시켜 점수를 얻습니다. 현대적인 UI와 부드러운 애니메이션으로 즐거운 게임 경험을 제공하는 것을 목표로 합니다.

실행주소1 : https://candy-crush-saga-nu.vercel.app/

실행주소2 : https://dev-canvas-pi.vercel.app/

## ✨ 주요 기능

- **클래식 매치-3 게임 플레이**: 가로 또는 세로로 3개 이상의 같은 색 캔디를 맞춰 터트립니다.
- **직관적인 드래그 앤 드롭**: 마우스를 사용하여 캔디를 쉽게 움직일 수 있습니다.
- **스페셜 캔디 (줄무늬 캔디)**: 4개의 캔디를 맞추면 생성됩니다. 활성화 시 한 줄(가로 또는 세로) 전체를 클리어하며, 시원한 '레이저' 시각 효과가 함께 나타납니다.
- **다이나믹한 애니메이션**:
  - 캔디가 터질 때의 'Pop' 애니메이션
  - 새로운 캔디가 떨어지는 'Fall-in' 애니메이션
- **점수 및 이동 횟수 시스템**: 제한된 이동 횟수 내에 목표 점수를 달성하는 도전 과제를 제공합니다.
- **반응형 디자인**: 데스크톱과 모바일 등 다양한 화면 크기에서 게임을 즐길 수 있습니다.
- **게임 오버 및 재시작**: 이동 횟수를 모두 소진하면 게임 오버 모달이 나타나며, '다시하기' 버튼으로 즉시 새 게임을 시작할 수 있습니다.

## 🛠️ 사용된 기술

- **프론트엔드**: React, TypeScript
- **스타일링**: Tailwind CSS, Custom CSS (Keyframe 애니메이션)
- **모듈 로딩**: `index.html` 내 `importmap`을 통한 ESM (esm.sh)
- **폰트**: Google Fonts (Nunito)

## 📂 프로젝트 구조

```
/
├── index.html              # 앱의 메인 진입점, 스타일 및 스크립트 포함
├── index.tsx               # React 앱을 DOM에 마운트
├── metadata.json           # 프로젝트 메타데이터
├── README.md               # 프로젝트 설명 파일
├── constants.ts            # 보드 크기, 캔디 종류 등 게임 설정 상수
├── types.ts                # TypeScript 타입 정의 (Board, CandyObject 등)
├── App.tsx                 # 핵심 게임 로직, 상태 관리 및 렌더링을 담당하는 메인 컴포넌트
└── components/
    ├── GameInfo.tsx        # 점수와 남은 이동 횟수를 표시하는 UI 컴포넌트
    └── GameOverModal.tsx   # 게임 오버 시 나타나는 모달 컴포넌트
```

## 🚀 로컬에서 실행하기

이 프로젝트는 별도의 빌드 과정 없이 최신 웹 브라우저에서 직접 실행할 수 있습니다.

1.  프로젝트 파일을 다운로드합니다.
2.  `index.html` 파일을 웹 브라우저에서 엽니다.
3.  더 나은 개발 경험을 위해 VS Code의 **Live Server** 확장 프로그램이나 Python의 내장 서버(`python -m http.server`) 등을 사용하여 로컬 서버로 파일을 제공하는 것을 권장합니다.

## 🧠 게임 로직 상세 설명

`App.tsx` 컴포넌트는 게임의 모든 핵심 로직을 관리합니다.

1.  **상태 관리 (`useState`)**:
    - `board`: 현재 캔디 보드의 2차원 배열
    - `score`, `movesLeft`: 게임 점수 및 남은 이동 횟수
    - `gameStatus`: 'playing' 또는 'gameOver' 상태
    - `isProcessing`: 연쇄 반응이나 캔디 이동 처리 중 사용자 입력을 막기 위한 플래그
    - `visualEffects`: 줄무늬 캔디의 레이저 효과 등 시각 효과를 렌더링하기 위한 상태

2.  **게임 루프 (`processBoard` 함수)**:
    이 함수는 `isProcessing` 상태가 `true`일 때 실행되며, 보드에 변화가 생긴 후의 모든 후속 처리를 담당합니다.
    
    ① **매치 탐색**: 보드에서 가로/세로 3개 이상의 모든 매치를 찾습니다.
    ② **스페셜 캔디 생성**: 4개 매치가 발생한 경우, 해당 위치에 줄무늬 캔디를 생성할 준비를 합니다.
    ③ **스페셜 캔디 효과 처리**: 터지는 캔디 중에 스페셜 캔디가 포함되어 있다면, 해당 캔디의 효과(예: 한 줄 제거)를 발동하여 추가로 터질 캔디들을 `cellsToClear` Set에 추가합니다.
    ④ **캔디 제거 및 점수 획득**: `cellsToClear`에 포함된 모든 캔디를 보드에서 제거(`null`로 설정)하고 점수를 업데이트합니다.
    ⑤ **캔디 낙하**: 제거된 캔디들의 위쪽에 있던 캔디들을 아래로 떨어뜨려 빈 공간을 채웁니다.
    ⑥ **새로운 캔디 채우기**: 보드 상단의 빈 공간을 새로운 랜덤 캔디로 채웁니다.
    ⑦ **반복**: 새로운 캔디가 채워진 후 또 다른 매치가 발생하면, ① 단계부터 다시 루프를 실행하여 모든 연쇄 반응이 끝날 때까지 반복합니다.
    ⑧ **종료**: 더 이상 매치가 없으면, `isProcessing`을 `false`로 설정하여 다음 사용자 입력을 기다립니다.
